<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalStorage ã‚¯ãƒªã‚¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background-color: #da5761;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 0;
            font-size: 16px;
        }
        button:hover {
            background-color: #c44853;
        }
        .info {
            background-color: #e7f3ff;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }
        pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            overflow: auto;
            max-height: 300px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§¹ LocalStorage ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h1>
        
        <div class="info">
            <p><strong>èª¬æ˜:</strong> ãƒšãƒ¼ã‚¸ç®¡ç†ç”»é¢ã§æ­£ã—ã„æ•°ã®ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆã€localStorageã«å¤ã„ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
        </div>

        <h2>ç¾åœ¨ã®CMSãƒ‡ãƒ¼ã‚¿</h2>
        <button onclick="showCurrentData()">ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º</button>
        <div id="currentData"></div>

        <h2>æ“ä½œ</h2>
        <button onclick="clearCMSData()">CMSãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
        <button onclick="resetToDefaults()">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿ã«ãƒªã‚»ãƒƒãƒˆ</button>
        <button onclick="clearAllStorage()">å…¨localStorageã‚’ã‚¯ãƒªã‚¢</button>
        
        <div id="result"></div>

        <h2>ãƒšãƒ¼ã‚¸ç®¡ç†ç”»é¢ã¸</h2>
        <button onclick="goToPageManagement()">ãƒšãƒ¼ã‚¸ç®¡ç†ç”»é¢ã‚’é–‹ã</button>
    </div>

    <script>
        const STORAGE_KEY = 'cms_mock_data';

        function showCurrentData() {
            const data = localStorage.getItem(STORAGE_KEY);
            const resultDiv = document.getElementById('currentData');
            
            if (data) {
                try {
                    const parsedData = JSON.parse(data);
                    const pagesCount = Object.keys(parsedData.pages || {}).length;
                    
                    resultDiv.innerHTML = `
                        <div class="info">
                            <p><strong>ãƒšãƒ¼ã‚¸æ•°:</strong> ${pagesCount}ä»¶</p>
                            <p><strong>ãã®ä»–ã®ãƒ‡ãƒ¼ã‚¿:</strong></p>
                            <ul>
                                <li>ã‚»ãƒŸãƒŠãƒ¼: ${(parsedData.seminars || []).length}ä»¶</li>
                                <li>åˆŠè¡Œç‰©: ${(parsedData.publications || []).length}ä»¶</li>
                                <li>ãŠçŸ¥ã‚‰ã›: ${(parsedData.notices || []).length}ä»¶</li>
                                <li>ä¼šå“¡: ${(parsedData.members || []).length}ä»¶</li>
                            </ul>
                        </div>
                        <h3>ãƒšãƒ¼ã‚¸ä¸€è¦§:</h3>
                        <pre>${JSON.stringify(parsedData.pages, null, 2)}</pre>
                    `;
                } catch (e) {
                    resultDiv.innerHTML = `<div style="color: red;">ãƒ‡ãƒ¼ã‚¿ã®è§£æã«å¤±æ•—: ${e.message}</div>`;
                }
            } else {
                resultDiv.innerHTML = '<div class="info">localStorageã«CMSãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚</div>';
            }
        }

        function clearCMSData() {
            localStorage.removeItem(STORAGE_KEY);
            document.getElementById('result').innerHTML = 
                '<div class="success">âœ… CMSãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚</div>';
        }

        function resetToDefaults() {
            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒšãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ã‚’è¨­å®š
            const defaultPages = {
                home: { title: 'ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸', content: 'ã¡ããã‚“åœ°åŸŸçµŒæ¸ˆç ”ç©¶æ‰€ã®ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸', lastUpdated: '2025-05-01' },
                about: { title: 'ã¡ããã‚“åœ°åŸŸçµŒæ¸ˆç ”ç©¶æ‰€ã«ã¤ã„ã¦', content: 'åœ°åŸŸçµŒæ¸ˆã®ç™ºå±•ã«è²¢çŒ®ã™ã‚‹ç ”ç©¶æ©Ÿé–¢ã§ã™ã€‚', lastUpdated: '2025-05-01' },
                services: { title: 'ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§', content: 'çµŒæ¸ˆèª¿æŸ»ã€ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã€ã‚»ãƒŸãƒŠãƒ¼é–‹å‚¬ãªã©', lastUpdated: '2025-04-28' },
                news: { title: 'ãŠçŸ¥ã‚‰ã›', content: 'ãŠçŸ¥ã‚‰ã›ä¸€è¦§ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                newsDetail: { title: 'ãŠçŸ¥ã‚‰ã›è©³ç´°', content: 'ãŠçŸ¥ã‚‰ã›è¨˜äº‹ã®è©³ç´°ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                seminars: { title: 'ã‚»ãƒŸãƒŠãƒ¼', content: 'ã‚»ãƒŸãƒŠãƒ¼æƒ…å ±ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                seminarRegistration: { title: 'ã‚»ãƒŸãƒŠãƒ¼ç”³è¾¼', content: 'ã‚»ãƒŸãƒŠãƒ¼ç”³è¾¼ãƒ•ã‚©ãƒ¼ãƒ ', lastUpdated: '2025-04-28' },
                publications: { title: 'åˆŠè¡Œç‰©', content: 'åˆŠè¡Œç‰©ä¸€è¦§ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                publicationDetail: { title: 'åˆŠè¡Œç‰©è©³ç´°', content: 'åˆŠè¡Œç‰©è©³ç´°ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                memberLogin: { title: 'ä¼šå“¡ãƒ­ã‚°ã‚¤ãƒ³', content: 'ä¼šå“¡ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                memberRegister: { title: 'ä¼šå“¡ç™»éŒ²', content: 'ä¼šå“¡ç™»éŒ²ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                myAccount: { title: 'ãƒã‚¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ', content: 'ä¼šå“¡ãƒã‚¤ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                upgrade: { title: 'ãƒ—ãƒ©ãƒ³ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰', content: 'ä¼šå“¡ãƒ—ãƒ©ãƒ³ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                faq: { title: 'ã‚ˆãã‚ã‚‹è³ªå•', content: 'ã‚ˆãã‚ã‚‹è³ªå•ã¨å›ç­”', lastUpdated: '2025-04-28' },
                apply: { title: 'ç”³è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ', content: 'å„ç¨®ç”³è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ', lastUpdated: '2025-04-28' },
                contact: { title: 'ãŠå•ã„åˆã‚ã›', content: 'ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ', lastUpdated: '2025-04-28' },
                glossary: { title: 'ç”¨èªé›†', content: 'çµŒæ¸ˆç”¨èªé›†', lastUpdated: '2025-04-28' },
                privacy: { title: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼', content: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                terms: { title: 'åˆ©ç”¨è¦ç´„', content: 'åˆ©ç”¨è¦ç´„ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                adminLogin: { title: 'ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³', content: 'ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' },
                adminDashboard: { title: 'ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰', content: 'ç®¡ç†ç”»é¢ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰', lastUpdated: '2025-04-28' },
                test: { title: 'ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸', content: 'Vue.jså‹•ä½œç¢ºèªç”¨ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸', lastUpdated: '2025-04-28' }
            };

            const defaultData = {
                seminars: [],
                publications: [],
                notices: [],
                media: [],
                members: [],
                pages: defaultPages
            };

            localStorage.setItem(STORAGE_KEY, JSON.stringify(defaultData));
            document.getElementById('result').innerHTML = 
                `<div class="success">âœ… ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸã€‚${Object.keys(defaultPages).length}ãƒšãƒ¼ã‚¸ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚</div>`;
        }

        function clearAllStorage() {
            localStorage.clear();
            document.getElementById('result').innerHTML = 
                '<div class="success">âœ… å…¨localStorageã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸã€‚</div>';
        }

        function goToPageManagement() {
            window.open('/#/admin/pages', '_blank');
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
        window.onload = function() {
            showCurrentData();
        };
    </script>
</body>
</html>
