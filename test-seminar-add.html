<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚»ãƒŸãƒŠãƒ¼è¿½åŠ ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #da5761;
            padding-bottom: 10px;
        }
        .section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background-color: #da5761;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        button:hover {
            background-color: #c44853;
        }
        .info-btn {
            background-color: #17a2b8;
        }
        .info-btn:hover {
            background-color: #138496;
        }
        .success-btn {
            background-color: #28a745;
        }
        .success-btn:hover {
            background-color: #218838;
        }
        .result {
            background-color: #e8f5e9;
            border: 1px solid #4caf50;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            display: none;
        }
        .result.error {
            background-color: #ffebee;
            border-color: #f44336;
        }
        .result.show {
            display: block;
        }
        .code-block {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            overflow-x: auto;
        }
        .step-box {
            background-color: #fff3cd;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #ffc107;
        }
    </style>
</head>
<body>
    <h1>ğŸ” ã‚»ãƒŸãƒŠãƒ¼è¿½åŠ ã‚¨ãƒ©ãƒ¼ã®ãƒ‡ãƒãƒƒã‚°</h1>
    
    <div class="section">
        <h2>ğŸ“‹ å•é¡Œã®èª¬æ˜</h2>
        <p>ç®¡ç†ç”»é¢ã®ã‚»ãƒŸãƒŠãƒ¼ç®¡ç†ã‹ã‚‰ã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã€Œã‚»ãƒŸãƒŠãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹å•é¡Œã«ã¤ã„ã¦èª¿æŸ»ã—ã¾ã™ã€‚</p>
        <div class="step-box">
            <strong>æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œï¼š</strong><br>
            â€¢ /admin/seminars/new ã«ã‚¢ã‚¯ã‚»ã‚¹<br>
            â€¢ æ–°è¦ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ãŒè¡¨ç¤ºã•ã‚Œã‚‹<br>
            â€¢ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã•ã‚Œãªã„
        </div>
    </div>
    
    <div class="section">
        <h2>ğŸš€ Step 1: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ</h2>
        <p>æ­£ã—ã„ãƒ«ãƒ¼ãƒˆãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚</p>
        <button onclick="testRoutes()" class="info-btn">ãƒ«ãƒ¼ãƒˆæƒ…å ±ã‚’ç¢ºèª</button>
        <div id="route-result" class="result"></div>
    </div>
    
    <div class="section">
        <h2>ğŸ”§ Step 2: Mock Server ã®ãƒ‡ãƒãƒƒã‚°</h2>
        <p>mockServer.getSeminar() ãŒ 'new' IDã§å‘¼ã°ã‚ŒãŸã¨ãã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
        <button onclick="testMockServer()">MockServer ãƒ†ã‚¹ãƒˆ</button>
        <div id="mock-result" class="result"></div>
    </div>
    
    <div class="section">
        <h2>ğŸ¯ Step 3: ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ</h2>
        <p>ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦å‹•ä½œã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
        <div style="margin: 20px 0;">
            <button onclick="window.open('http://localhost:8081/#/admin/seminars', '_blank')" class="info-btn">ã‚»ãƒŸãƒŠãƒ¼ç®¡ç†ã‚’é–‹ã</button>
            <button onclick="window.open('http://localhost:8081/#/admin/seminars/new', '_blank')" class="success-btn">æ–°è¦ä½œæˆç”»é¢ã‚’ç›´æ¥é–‹ã</button>
        </div>
    </div>
    
    <div class="section">
        <h2>ğŸ’¡ Step 4: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ‡ãƒãƒƒã‚°</h2>
        <p>æ–°è¦ä½œæˆç”»é¢ã‚’é–‹ã„ã¦ã‹ã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š</p>
        <div class="code-block">
// Vue ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç¢ºèª
const app = document.querySelector('#app').__vue__;
let seminarEditForm = null;

// SeminarEditForm ã‚’æ¢ã™
function findSeminarEditForm(vm) {
    if (vm.$options.name === 'SeminarEditForm') {
        seminarEditForm = vm;
        return;
    }
    if (vm.$children && vm.$children.length) {
        vm.$children.forEach(child => {
            if (!seminarEditForm) findSeminarEditForm(child);
        });
    }
}

findSeminarEditForm(app);

if (seminarEditForm) {
    console.log('âœ… SeminarEditForm found!');
    console.log('Route params:', seminarEditForm.$route.params);
    console.log('isNew:', seminarEditForm.isNew);
    console.log('loading:', seminarEditForm.loading);
    console.log('error:', seminarEditForm.error);
    console.log('formData:', seminarEditForm.formData);
} else {
    console.log('âŒ SeminarEditForm not found');
}
        </div>
    </div>
    
    <div class="section">
        <h2>ğŸ› ï¸ Step 5: localStorage ã®ç¢ºèª</h2>
        <button onclick="checkLocalStorage()">localStorage ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª</button>
        <div id="storage-result" class="result"></div>
    </div>

    <script>
        const STORAGE_KEY = 'cms_mock_data';
        
        function testRoutes() {
            const resultDiv = document.getElementById('route-result');
            resultDiv.className = 'result show';
            
            const routes = [
                '/admin/seminars',
                '/admin/seminars/new',
                '/admin/seminars/1/edit',
                '/admin/seminars/999/edit'
            ];
            
            let html = '<strong>ğŸ“ è¨­å®šã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆ:</strong><br><br>';
            html += 'â€¢ /admin/seminars - ã‚»ãƒŸãƒŠãƒ¼ç®¡ç†ä¸€è¦§<br>';
            html += 'â€¢ /admin/seminars/new - æ–°è¦ä½œæˆï¼ˆå•é¡Œã®ãƒ«ãƒ¼ãƒˆï¼‰<br>';
            html += 'â€¢ /admin/seminars/:id/edit - ç·¨é›†<br><br>';
            html += '<strong>router.js ã®è©²å½“éƒ¨åˆ†:</strong><br>';
            html += '<div class="code-block">';
            html += '{\n';
            html += '  path: "/admin/seminars/new",\n';
            html += '  name: "seminarNew",\n';
            html += '  component: SeminarEditForm\n';
            html += '},\n';
            html += '{\n';
            html += '  path: "/admin/seminars/:id/edit",\n';
            html += '  name: "seminarEdit",\n';
            html += '  component: SeminarEditForm\n';
            html += '}';
            html += '</div>';
            
            resultDiv.innerHTML = html;
        }
        
        async function testMockServer() {
            const resultDiv = document.getElementById('mock-result');
            resultDiv.className = 'result show';
            
            let html = '<strong>ğŸ” MockServer ãƒ†ã‚¹ãƒˆçµæœ:</strong><br><br>';
            
            // Load mock server data
            const data = localStorage.getItem(STORAGE_KEY);
            if (data) {
                const mockData = JSON.parse(data);
                html += `â€¢ ç¾åœ¨ã®ã‚»ãƒŸãƒŠãƒ¼æ•°: ${mockData.seminars ? mockData.seminars.length : 0}<br>`;
                
                // Test getSeminar with 'new'
                html += '<br><strong>getSeminar("new") ã®ãƒ†ã‚¹ãƒˆ:</strong><br>';
                html += '<div class="code-block">';
                html += 'getSeminar(id) {\n';
                html += '  const seminar = this.data.seminars.find(s => s.id === parseInt(id))\n';
                html += '  // parseInt("new") = NaN ãªã®ã§è¦‹ã¤ã‹ã‚‰ãªã„\n';
                html += '  // â†’ Promise.reject(new Error("Seminar not found"))\n';
                html += '}';
                html += '</div>';
                html += '<br>âš ï¸ <strong>å•é¡Œ:</strong> "new" ãŒparseInt()ã§NaNã«ãªã‚‹ãŸã‚ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚';
            } else {
                html += 'âŒ MockServer ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“';
            }
            
            resultDiv.innerHTML = html;
        }
        
        function checkLocalStorage() {
            const resultDiv = document.getElementById('storage-result');
            resultDiv.className = 'result show';
            
            const data = localStorage.getItem(STORAGE_KEY);
            const adminToken = localStorage.getItem('adminToken');
            
            let html = '<strong>ğŸ“¦ LocalStorage ã®çŠ¶æ…‹:</strong><br><br>';
            
            if (data) {
                const mockData = JSON.parse(data);
                html += `âœ… CMSãƒ‡ãƒ¼ã‚¿: å­˜åœ¨<br>`;
                html += `â€¢ ã‚»ãƒŸãƒŠãƒ¼: ${mockData.seminars ? mockData.seminars.length : 0}ä»¶<br>`;
                html += `â€¢ åˆŠè¡Œç‰©: ${mockData.publications ? mockData.publications.length : 0}ä»¶<br>`;
                html += `â€¢ ãŠçŸ¥ã‚‰ã›: ${mockData.notices ? mockData.notices.length : 0}ä»¶<br>`;
            } else {
                html += 'âŒ CMSãƒ‡ãƒ¼ã‚¿: ãªã—<br>';
            }
            
            html += '<br>';
            
            if (adminToken) {
                html += 'âœ… ç®¡ç†è€…ãƒˆãƒ¼ã‚¯ãƒ³: ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿<br>';
            } else {
                html += 'âŒ ç®¡ç†è€…ãƒˆãƒ¼ã‚¯ãƒ³: æœªãƒ­ã‚°ã‚¤ãƒ³<br>';
            }
            
            resultDiv.innerHTML = html;
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«è‡ªå‹•ã§ãƒ«ãƒ¼ãƒˆæƒ…å ±ã‚’è¡¨ç¤º
        window.onload = function() {
            testRoutes();
        };
    </script>
</body>
</html>