<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>強制データリセット</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 { color: #1A1A1A; }
        button {
            background: #da5761;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 10px 10px 0;
            font-size: 16px;
        }
        button:hover { background: #c44853; }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 4px;
            border: 1px solid #ddd;
            font-family: monospace;
            font-size: 14px;
            max-height: 600px;
            overflow-y: auto;
        }
        .success {
            background: #d1fae5;
            border-color: #6ee7b7;
            color: #065f46;
        }
        pre { margin: 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔧 強制データリセット</h1>
        <p>このツールでlocalStorageを完全にリセットします。</p>
        
        <button onclick="forceReset()">強制リセット実行</button>
        <button onclick="checkCurrentData()">現在のデータを確認</button>
        
        <div id="result" class="result"></div>
    </div>

    <script>
        const STORAGE_KEY = 'cms_mock_data';

        function checkCurrentData() {
            const resultDiv = document.getElementById('result');
            const data = localStorage.getItem(STORAGE_KEY);
            
            if (data) {
                const parsed = JSON.parse(data);
                resultDiv.innerHTML = '<h3>現在のデータ:</h3><pre>' + JSON.stringify(parsed, null, 2) + '</pre>';
            } else {
                resultDiv.innerHTML = '<p>データがありません</p>';
            }
        }

        function forceReset() {
            const resultDiv = document.getElementById('result');
            
            // まず完全にクリア
            localStorage.clear();
            
            // 完全なデータを設定
            const fullData = {
                seminars: [
                    {
                        id: 1,
                        title: '採用力強化！経営・人事向け　面接官トレーニングセミナー',
                        description: '優秀な人材を見極め、獲得するための面接技術を習得できるセミナーを開催します。',
                        date: '2025-06-15',
                        start_time: '14:00',
                        end_time: '17:00',
                        location: 'ちくぎん地域経済研究所 会議室A',
                        capacity: 30,
                        fee: 5000,
                        status: 'ongoing'
                    },
                    {
                        id: 2,
                        title: 'DX推進セミナー',
                        description: 'デジタルトランスフォーメーションの基礎から実践まで学べるセミナーです。',
                        date: '2025-06-20',
                        start_time: '13:00',
                        end_time: '16:00',
                        location: 'オンライン開催',
                        capacity: 100,
                        fee: 3000,
                        status: 'scheduled'
                    }
                ],
                publications: [
                    {
                        id: 1,
                        title: '事業継承から描く九州の未来',
                        description: '最新の地域経済動向レポート。九州地域の製造業の動向と今後の展望について特集。',
                        publication_date: '2025-04-28',
                        category: 'research',
                        type: 'pdf',
                        author: 'ちくぎん地域経済研究所',
                        pages: 45,
                        file_url: '/files/kyushu-future.pdf',
                        image_url: '',
                        file_size: 2.1,
                        download_count: 234,
                        is_published: true
                    },
                    {
                        id: 2,
                        title: '経営参考BOOK vol.52',
                        description: '事業承継をテーマに、成功事例と具体的な進め方を解説。',
                        publication_date: '2025-04-28',
                        category: 'quarterly',
                        type: 'pdf',
                        author: 'ちくぎん地域経済研究所',
                        pages: 32,
                        file_url: '/files/management-book-52.pdf',
                        image_url: '',
                        file_size: 1.8,
                        download_count: 156,
                        is_published: true
                    },
                    {
                        id: 3,
                        title: 'Hot Information Vol.323',
                        description: '2025年度の経済展望と地域企業が取り組むべき課題について特集。',
                        publication_date: '2025-04-28',
                        category: 'special',
                        type: 'pdf',
                        author: 'ちくぎん地域経済研究所',
                        pages: 28,
                        file_url: '/files/hot-info-323.pdf',
                        image_url: '',
                        file_size: 1.5,
                        download_count: 89,
                        is_published: true
                    },
                    {
                        id: 4,
                        title: 'Hot Information Vol.324',
                        description: 'DX推進のポイントや、新たな成長戦略について詳しく解説。',
                        publication_date: '2025-05-01',
                        category: 'special',
                        type: 'pdf',
                        author: 'ちくぎん地域経済研究所',
                        pages: 35,
                        file_url: '/files/hot-info-324.pdf',
                        image_url: '/img/-----2-2-4.png',
                        file_size: 2.0,
                        download_count: 45,
                        is_published: true
                    }
                ],
                notices: [
                    {
                        id: 1,
                        title: 'GW休業のお知らせ',
                        content: '5月3日から5月6日まで休業いたします。',
                        date: '2025-06-20',
                        category: 'notice',
                        isImportant: true
                    },
                    {
                        id: 2,
                        title: 'システムメンテナンスのお知らせ',
                        content: '6月10日深夜にシステムメンテナンスを実施します。',
                        date: '2025-05-15',
                        category: 'maintenance',
                        isImportant: false
                    }
                ],
                media: [
                    {
                        id: 1,
                        title: 'TOP画像1',
                        type: 'hero_image',
                        url: '/images/hero1.jpg',
                        uploadDate: '2025-05-01'
                    },
                    {
                        id: 2,
                        title: 'TOP画像2',
                        type: 'hero_image',
                        url: '/images/hero2.jpg',
                        uploadDate: '2025-04-15'
                    },
                    {
                        id: 3,
                        title: 'セミナー告知バナー',
                        type: 'banner',
                        url: '/images/seminar-banner.jpg',
                        uploadDate: '2025-04-20'
                    }
                ],
                members: [
                    {
                        id: 1,
                        name: '山田太郎',
                        email: 'yamada@example.com',
                        company: '株式会社山田商事',
                        joinedDate: '2024-01-15',
                        status: 'active'
                    },
                    {
                        id: 2,
                        name: '鈴木花子',
                        email: 'suzuki@example.com',
                        company: '鈴木建設株式会社',
                        joinedDate: '2024-03-20',
                        status: 'active'
                    }
                ],
                pages: {
                    about: {
                        title: 'ちくぎん地域経済研究所について',
                        content: '地域経済の発展に貢献する研究機関です。',
                        lastUpdated: '2025-05-01'
                    },
                    services: {
                        title: 'サービス一覧',
                        content: '経済調査、コンサルティング、セミナー開催など',
                        lastUpdated: '2025-04-28'
                    },
                    seminars: {
                        title: 'セミナー',
                        content: 'セミナー情報ページ',
                        lastUpdated: '2025-04-28'
                    },
                    publications: {
                        title: '刊行物',
                        content: '刊行物一覧ページ',
                        lastUpdated: '2025-04-28'
                    },
                    news: {
                        title: 'お知らせ',
                        content: 'お知らせ一覧ページ',
                        lastUpdated: '2025-04-28'
                    },
                    contact: {
                        title: 'お問い合わせ',
                        content: 'お問い合わせフォーム',
                        lastUpdated: '2025-04-28'
                    },
                    faq: {
                        title: 'よくある質問',
                        content: 'よくある質問と回答',
                        lastUpdated: '2025-04-28'
                    },
                    glossary: {
                        title: '用語集',
                        content: '経済用語集',
                        lastUpdated: '2025-04-28'
                    },
                    privacy: {
                        title: 'プライバシーポリシー',
                        content: 'プライバシーポリシーページ',
                        lastUpdated: '2025-04-28'
                    },
                    terms: {
                        title: '利用規約',
                        content: '利用規約ページ',
                        lastUpdated: '2025-04-28'
                    }
                }
            };
            
            // データを保存
            localStorage.setItem(STORAGE_KEY, JSON.stringify(fullData));
            
            // 確認のため再度読み込んで表示
            const savedData = localStorage.getItem(STORAGE_KEY);
            const parsed = JSON.parse(savedData);
            const pageCount = Object.keys(parsed.pages).length;
            
            resultDiv.className = 'result success';
            resultDiv.innerHTML = `
                <h3>✅ データを強制リセットしました！</h3>
                <p><strong>設定されたデータ:</strong></p>
                <ul>
                    <li>セミナー: ${parsed.seminars.length}件</li>
                    <li>刊行物: ${parsed.publications.length}件</li>
                    <li>お知らせ: ${parsed.notices.length}件</li>
                    <li>メディア: ${parsed.media.length}件</li>
                    <li>会員: ${parsed.members.length}件</li>
                    <li><strong>ページ: ${pageCount}件</strong></li>
                </ul>
                <p><strong>ページ一覧:</strong></p>
                <ul>
                    ${Object.entries(parsed.pages).map(([key, page]) => 
                        `<li>${key}: ${page.title}</li>`
                    ).join('')}
                </ul>
                <p><strong>⚠️ 重要: アプリケーションページを完全にリロード（Cmd+Shift+R または Ctrl+Shift+R）してください。</strong></p>
            `;
        }

        // 初期表示
        checkCurrentData();
    </script>
</body>
</html>